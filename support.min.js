!function(){"use strict";window.location.search&&-1!==window.location.search.indexOf("ignore_check")||window.Map&&window.WeakMap||(window.location="error.html")}();

!function(){"use strict";function t(t,n){return n={exports:{}},t(n,n.exports),n.exports}var n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=t(function(t){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),e=t(function(t){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)}),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){return"object"===(void 0===t?"undefined":o(t))?null!==t:"function"==typeof t},c=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t},u=function(t){try{return!!t()}catch(t){return!0}},a=!u(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),f=r.document,s=i(f)&&i(f.createElement),l=function(t){return s?f.createElement(t):{}},h=!a&&!u(function(){return 7!=Object.defineProperty(l("div"),"a",{get:function(){return 7}}).a}),p=function(t,n){if(!i(t))return t;var r,e;if(n&&"function"==typeof(r=t.toString)&&!i(e=r.call(t)))return e;if("function"==typeof(r=t.valueOf)&&!i(e=r.call(t)))return e;if(!n&&"function"==typeof(r=t.toString)&&!i(e=r.call(t)))return e;throw TypeError("Can't convert object to primitive value")},y=Object.defineProperty,v={f:a?Object.defineProperty:function(t,n,r){if(c(t),n=p(n,!0),c(r),h)try{return y(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},d=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}},m=a?function(t,n,r){return v.f(t,n,d(1,r))}:function(t,n,r){return t[n]=r,t},g={}.hasOwnProperty,w=function(t,n){return g.call(t,n)},b=0,_=Math.random(),E=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++b+_).toString(36))},S=t(function(t){var n=E("src"),o=Function.toString,i=(""+o).split("toString");e.inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,o,c){var u="function"==typeof o;u&&(w(o,"name")||m(o,"name",e)),t[e]!==o&&(u&&(w(o,n)||m(o,n,t[e]?""+t[e]:i.join(String(e)))),t===r?t[e]=o:c?t[e]?t[e]=o:m(t,e,o):(delete t[e],m(t,e,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[n]||o.call(this)})}),O=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},j=function(t,n,r){if(O(t),void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,o){return t.call(n,r,e,o)}}return function(){return t.apply(n,arguments)}},x=function t(n,o,i){var c,u,a,f,s=n&t.F,l=n&t.G,h=n&t.S,p=n&t.P,y=n&t.B,v=l?r:h?r[o]||(r[o]={}):(r[o]||{}).prototype,d=l?e:e[o]||(e[o]={}),g=d.prototype||(d.prototype={});l&&(i=o);for(c in i)a=((u=!s&&v&&void 0!==v[c])?v:i)[c],f=y&&u?j(a,r):p&&"function"==typeof a?j(Function.call,a):a,v&&S(v,c,a,n&t.U),d[c]!=a&&m(d,c,f),p&&g[c]!=a&&(g[c]=a)};r.core=e,x.F=1,x.G=2,x.S=4,x.P=8,x.B=16,x.W=32,x.U=64,x.R=128;var P=x,L=Math.ceil,F=Math.floor,T=function(t){return isNaN(t=+t)?0:(t>0?F:L)(t)},N=Math.min,M=function(t){return t>0?N(T(t),9007199254740991):0},k={}.toString,A=function(t){return k.call(t).slice(8,-1)},I=r["__core-js_shared__"]||(r["__core-js_shared__"]={}),C=function(t){return I[t]||(I[t]={})},G=t(function(t){var n=C("wks"),e=r.Symbol,o="function"==typeof e;(t.exports=function(t){return n[t]||(n[t]=o&&e[t]||(o?e:E)("Symbol."+t))}).store=n}),R=G("match"),W=function(t){var n;return i(t)&&(void 0!==(n=t[R])?!!n:"RegExp"==A(t))},D=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},K=function(t,n,r){if(W(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(D(t))},U=G("match"),B="".startsWith;P(P.P+P.F*function(t){var n=/./;try{"/./"[t](n)}catch(r){try{return n[U]=!1,!"/./"[t](n)}catch(t){}}return!0}("startsWith"),"String",{startsWith:function(t){var n=K(this,t,"startsWith"),r=M(Math.min(arguments.length>1?arguments[1]:void 0,n.length)),e=String(t);return B?B.call(n,e,r):n.slice(r,r+e.length)===e}});var J=function(t){return Object(D(t))},Y=function(t,n,r,e){try{return e?n(c(r)[0],r[1]):n(r)}catch(n){var o=t.return;throw void 0!==o&&c(o.call(t)),n}},z={},H=G("iterator"),Q=Array.prototype,q=function(t){return void 0!==t&&(z.Array===t||Q[H]===t)},V=function(t,n,r){n in t?v.f(t,n,d(0,r)):t[n]=r},X=G("toStringTag"),Z="Arguments"==A(function(){return arguments}()),$=function(t,n){try{return t[n]}catch(t){}},tt=function(t){var n,r,e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=$(n=Object(t),X))?r:Z?A(n):"Object"==(e=A(n))&&"function"==typeof n.callee?"Arguments":e},nt=G("iterator"),rt=e.getIteratorMethod=function(t){if(void 0!=t)return t[nt]||t["@@iterator"]||z[tt(t)]},et=G("iterator"),ot=!1;try{var it=[7][et]();it.return=function(){ot=!0},Array.from(it,function(){throw 2})}catch(t){}var ct=function(t,n){if(!n&&!ot)return!1;var r=!1;try{var e=[7],o=e[et]();o.next=function(){return{done:r=!0}},e[et]=function(){return o},t(e)}catch(t){}return r};P(P.S+P.F*!ct(function(t){Array.from(t)}),"Array",{from:function(t){var n,r,e,o,i=J(t),c="function"==typeof this?this:Array,u=arguments.length,a=u>1?arguments[1]:void 0,f=void 0!==a,s=0,l=rt(i);if(f&&(a=j(a,u>2?arguments[2]:void 0,2)),void 0==l||c==Array&&q(l))for(r=new c(n=M(i.length));n>s;s++)V(r,s,f?a(i[s],s):i[s]);else for(o=l.call(i),r=new c;!(e=o.next()).done;s++)V(r,s,f?Y(o,a,[e.value,s],!0):e.value);return r.length=s,r}});var ut,at,ft,st=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t},lt=t(function(t){var n={},r={},e=t.exports=function(t,e,o,i,u){var a,f,s,l,h=u?function(){return t}:rt(t),p=j(o,i,e?2:1),y=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(q(h)){for(a=M(t.length);a>y;y++)if((l=e?p(c(f=t[y])[0],f[1]):p(t[y]))===n||l===r)return l}else for(s=h.call(t);!(f=s.next()).done;)if((l=Y(s,p,f.value,e))===n||l===r)return l};e.BREAK=n,e.RETURN=r}),ht=G("species"),pt=function(t,n){var r,e=c(t).constructor;return void 0===e||void 0==(r=c(e)[ht])?n:O(r)},yt=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)},vt=r.document&&document.documentElement,dt=r.process,mt=r.setImmediate,gt=r.clearImmediate,wt=r.MessageChannel,bt=0,_t={},Et=function(){var t=+this;if(_t.hasOwnProperty(t)){var n=_t[t];delete _t[t],n()}},St=function(t){Et.call(t.data)};mt&&gt||(mt=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return _t[++bt]=function(){yt("function"==typeof t?t:Function(t),n)},ut(bt),bt},gt=function(t){delete _t[t]},"process"==A(dt)?ut=function(t){dt.nextTick(j(Et,t,1))}:wt?(ft=(at=new wt).port2,at.port1.onmessage=St,ut=j(ft.postMessage,ft,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts?(ut=function(t){r.postMessage(t+"","*")},r.addEventListener("message",St,!1)):ut="onreadystatechange"in l("script")?function(t){vt.appendChild(l("script")).onreadystatechange=function(){vt.removeChild(this),Et.call(t)}}:function(t){setTimeout(j(Et,t,1),0)});var Ot,jt,xt,Pt={set:mt,clear:gt},Lt=Pt.set,Ft=r.MutationObserver||r.WebKitMutationObserver,Tt=r.process,Nt=r.Promise,Mt="process"==A(Tt),kt=v.f,At=G("toStringTag"),It=function(t,n,r){t&&!w(t=r?t:t.prototype,At)&&kt(t,At,{configurable:!0,value:n})},Ct=G("species"),Gt=Pt.set,Rt=function(){var t,n,e,o=function(){var r,o;for(Mt&&(r=Tt.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?e():n=void 0,r}}n=void 0,r&&r.enter()};if(Mt)e=function(){Tt.nextTick(o)};else if(Ft){var i=!0,c=document.createTextNode("");new Ft(o).observe(c,{characterData:!0}),e=function(){c.data=i=!i}}else if(Nt&&Nt.resolve){var u=Nt.resolve();e=function(){u.then(o)}}else e=function(){Lt.call(r,o)};return function(r){var o={fn:r,next:void 0};n&&(n.next=o),t||(t=o,e()),n=o}}(),Wt=r.TypeError,Dt=r.process,Kt=r.Promise,Dt=r.process,Ut="process"==tt(Dt),Bt=function(){},Jt=!!function(){try{var t=Kt.resolve(1),n=(t.constructor={})[G("species")]=function(t){t(Bt,Bt)};return(Ut||"function"==typeof PromiseRejectionEvent)&&t.then(Bt)instanceof n}catch(t){}}(),Yt=function(t,n){return t===n||t===Kt&&n===xt},zt=function(t){var n;return!(!i(t)||"function"!=typeof(n=t.then))&&n},Ht=function(t){return Yt(Kt,t)?new Qt(t):new jt(t)},Qt=jt=function(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw Wt("Bad Promise constructor");n=t,r=e}),this.resolve=O(n),this.reject=O(r)},qt=function(t){try{t()}catch(t){return{error:t}}},Vt=function(t,n){if(!t._n){t._n=!0;var r=t._c;Rt(function(){for(var e=t._v,o=1==t._s,i=0;r.length>i;)!function(n){var r,i,c=o?n.ok:n.fail,u=n.resolve,a=n.reject,f=n.domain;try{c?(o||(2==t._h&&$t(t),t._h=1),!0===c?r=e:(f&&f.enter(),r=c(e),f&&f.exit()),r===n.promise?a(Wt("Promise-chain cycle")):(i=zt(r))?i.call(r,u,a):u(r)):a(e)}catch(t){a(t)}}(r[i++]);t._c=[],t._n=!1,n&&!t._h&&Xt(t)})}},Xt=function(t){Gt.call(r,function(){var n,e,o,i=t._v;if(Zt(t)&&(n=qt(function(){Ut?Dt.emit("unhandledRejection",i,t):(e=r.onunhandledrejection)?e({promise:t,reason:i}):(o=r.console)&&o.error&&o.error("Unhandled promise rejection",i)}),t._h=Ut||Zt(t)?2:1),t._a=void 0,n)throw n.error})},Zt=function t(n){if(1==n._h)return!1;for(var r,e=n._a||n._c,o=0;e.length>o;)if((r=e[o++]).fail||!t(r.promise))return!1;return!0},$t=function(t){Gt.call(r,function(){var n;Ut?Dt.emit("rejectionHandled",t):(n=r.onrejectionhandled)&&n({promise:t,reason:t._v})})},tn=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),Vt(n,!0))},nn=function t(n){var r,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===n)throw Wt("Promise can't be resolved itself");(r=zt(n))?Rt(function(){var o={_w:e,_d:!1};try{r.call(n,j(t,o,1),j(tn,o,1))}catch(t){tn.call(o,t)}}):(e._v=n,e._s=1,Vt(e,!1))}catch(t){tn.call({_w:e,_d:!1},t)}}};Jt||(Kt=function(t){st(this,Kt,"Promise","_h"),O(t),Ot.call(this);try{t(j(nn,this,1),j(tn,this,1))}catch(t){tn.call(this,t)}},(Ot=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,n,r){for(var e in n)S(t,e,n[e],r);return t}(Kt.prototype,{then:function(t,n){var r=Ht(pt(this,Kt));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=Ut?Dt.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&Vt(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),Qt=function(){var t=new Ot;this.promise=t,this.resolve=j(nn,t,1),this.reject=j(tn,t,1)}),P(P.G+P.W+P.F*!Jt,{Promise:Kt}),It(Kt,"Promise"),function(t){var n=r[t];a&&n&&!n[Ct]&&v.f(n,Ct,{configurable:!0,get:function(){return this}})}("Promise"),xt=e.Promise,P(P.S+P.F*!Jt,"Promise",{reject:function(t){var n=Ht(this);return(0,n.reject)(t),n.promise}}),P(P.S+P.F*!Jt,"Promise",{resolve:function(t){if(t instanceof Kt&&Yt(t.constructor,this))return t;var n=Ht(this);return(0,n.resolve)(t),n.promise}}),P(P.S+P.F*!(Jt&&ct(function(t){Kt.all(t).catch(Bt)})),"Promise",{all:function(t){var n=this,r=Ht(n),e=r.resolve,o=r.reject,i=qt(function(){var r=[],i=0,c=1;lt(t,!1,function(t){var u=i++,a=!1;r.push(void 0),c++,n.resolve(t).then(function(t){a||(a=!0,r[u]=t,--c||e(r))},o)}),--c||e(r)});return i&&o(i.error),r.promise},race:function(t){var n=this,r=Ht(n),e=r.reject,o=qt(function(){lt(t,!1,function(t){n.resolve(t).then(r.resolve,e)})});return o&&e(o.error),r.promise}});var rn=t(function(t){var n=E("meta"),r=v.f,e=0,c=Object.isExtensible||function(){return!0},a=!u(function(){return c(Object.preventExtensions({}))}),f=function(t){r(t,n,{value:{i:"O"+ ++e,w:{}}})},s=t.exports={KEY:n,NEED:!1,fastKey:function(t,r){if(!i(t))return"symbol"==(void 0===t?"undefined":o(t))?t:("string"==typeof t?"S":"P")+t;if(!w(t,n)){if(!c(t))return"F";if(!r)return"E";f(t)}return t[n].i},getWeak:function(t,r){if(!w(t,n)){if(!c(t))return!0;if(!r)return!1;f(t)}return t[n].w},onFreeze:function(t){return a&&s.NEED&&c(t)&&!w(t,n)&&f(t),t}}}),en={f:G},on=v.f,cn=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==A(t)?t.split(""):Object(t)},un=function(t){return cn(D(t))},an=Math.max,fn=Math.min,sn=function(t,n){return t=T(t),t<0?an(t+n,0):fn(t,n)},ln=C("keys"),hn=function(t){return ln[t]||(ln[t]=E(t))},pn=function(t){return function(n,r,e){var o,i=un(n),c=M(i.length),u=sn(e,c);if(t&&r!=r){for(;c>u;)if((o=i[u++])!=o)return!0}else for(;c>u;u++)if((t||u in i)&&i[u]===r)return t||u||0;return!t&&-1}}(!1),yn=hn("IE_PROTO"),vn=function(t,n){var r,e=un(t),o=0,i=[];for(r in e)r!=yn&&w(e,r)&&i.push(r);for(;n.length>o;)w(e,r=n[o++])&&(~pn(i,r)||i.push(r));return i},dn="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),mn=Object.keys||function(t){return vn(t,dn)},gn=function(t,n){for(var r,e=un(t),o=mn(e),i=o.length,c=0;i>c;)if(e[r=o[c++]]===n)return r},wn={f:Object.getOwnPropertySymbols},bn={f:{}.propertyIsEnumerable},_n=function(t){var n=mn(t),r=wn.f;if(r)for(var e,o=r(t),i=bn.f,c=0;o.length>c;)i.call(t,e=o[c++])&&n.push(e);return n},En=Array.isArray||function(t){return"Array"==A(t)},Sn=a?Object.defineProperties:function(t,n){c(t);for(var r,e=mn(n),o=e.length,i=0;o>i;)v.f(t,r=e[i++],n[r]);return t},On=hn("IE_PROTO"),jn=function(){},xn=function(){var t,n=l("iframe"),r=dn.length;for(n.style.display="none",vt.appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),xn=t.F;r--;)delete xn.prototype[dn[r]];return xn()},Pn=Object.create||function(t,n){var r;return null!==t?(jn.prototype=c(t),r=new jn,jn.prototype=null,r[On]=t):r=xn(),void 0===n?r:Sn(r,n)},Ln=dn.concat("length","prototype"),Fn={f:Object.getOwnPropertyNames||function(t){return vn(t,Ln)}},Tn=Fn.f,Nn={}.toString,Mn="object"==("undefined"==typeof window?"undefined":o(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],kn=function(t){try{return Tn(t)}catch(t){return Mn.slice()}},An={f:function(t){return Mn&&"[object Window]"==Nn.call(t)?kn(t):Tn(un(t))}},In=Object.getOwnPropertyDescriptor,Cn={f:a?In:function(t,n){if(t=un(t),n=p(n,!0),h)try{return In(t,n)}catch(t){}if(w(t,n))return d(!bn.f.call(t,n),t[n])}},Gn=rn.KEY,Rn=Cn.f,Wn=v.f,Dn=An.f,Kn=r.Symbol,Un=r.JSON,Bn=Un&&Un.stringify,Jn=G("_hidden"),Yn=G("toPrimitive"),zn={}.propertyIsEnumerable,Hn=C("symbol-registry"),Qn=C("symbols"),qn=C("op-symbols"),Vn=Object.prototype,Xn="function"==typeof Kn,Zn=r.QObject,$n=!Zn||!Zn.prototype||!Zn.prototype.findChild,tr=a&&u(function(){return 7!=Pn(Wn({},"a",{get:function(){return Wn(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=Rn(Vn,n);e&&delete Vn[n],Wn(t,n,r),e&&t!==Vn&&Wn(Vn,n,e)}:Wn,nr=function(t){var n=Qn[t]=Pn(Kn.prototype);return n._k=t,n},rr=Xn&&"symbol"==o(Kn.iterator)?function(t){return"symbol"==(void 0===t?"undefined":o(t))}:function(t){return t instanceof Kn},er=function(t,n,r){return t===Vn&&er(qn,n,r),c(t),n=p(n,!0),c(r),w(Qn,n)?(r.enumerable?(w(t,Jn)&&t[Jn][n]&&(t[Jn][n]=!1),r=Pn(r,{enumerable:d(0,!1)})):(w(t,Jn)||Wn(t,Jn,d(1,{})),t[Jn][n]=!0),tr(t,n,r)):Wn(t,n,r)},or=function(t,n){c(t);for(var r,e=_n(n=un(n)),o=0,i=e.length;i>o;)er(t,r=e[o++],n[r]);return t},ir=function(t){var n=zn.call(this,t=p(t,!0));return!(this===Vn&&w(Qn,t)&&!w(qn,t))&&(!(n||!w(this,t)||!w(Qn,t)||w(this,Jn)&&this[Jn][t])||n)},cr=function(t,n){if(t=un(t),n=p(n,!0),t!==Vn||!w(Qn,n)||w(qn,n)){var r=Rn(t,n);return!r||!w(Qn,n)||w(t,Jn)&&t[Jn][n]||(r.enumerable=!0),r}},ur=function(t){for(var n,r=Dn(un(t)),e=[],o=0;r.length>o;)w(Qn,n=r[o++])||n==Jn||n==Gn||e.push(n);return e},ar=function(t){for(var n,r=t===Vn,e=Dn(r?qn:un(t)),o=[],i=0;e.length>i;)!w(Qn,n=e[i++])||r&&!w(Vn,n)||o.push(Qn[n]);return o};Xn||(S((Kn=function(){if(this instanceof Kn)throw TypeError("Symbol is not a constructor!");var t=E(arguments.length>0?arguments[0]:void 0);return a&&$n&&tr(Vn,t,{configurable:!0,set:function n(r){this===Vn&&n.call(qn,r),w(this,Jn)&&w(this[Jn],t)&&(this[Jn][t]=!1),tr(this,t,d(1,r))}}),nr(t)}).prototype,"toString",function(){return this._k}),Cn.f=cr,v.f=er,Fn.f=An.f=ur,bn.f=ir,wn.f=ar,a&&S(Vn,"propertyIsEnumerable",ir,!0),en.f=function(t){return nr(G(t))}),P(P.G+P.W+P.F*!Xn,{Symbol:Kn});for(var fr="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),sr=0;fr.length>sr;)G(fr[sr++]);for(var fr=mn(G.store),sr=0;fr.length>sr;)!function(t){var n=e.Symbol||(e.Symbol=r.Symbol||{});"_"==t.charAt(0)||t in n||on(n,t,{value:en.f(t)})}(fr[sr++]);P(P.S+P.F*!Xn,"Symbol",{for:function(t){return w(Hn,t+="")?Hn[t]:Hn[t]=Kn(t)},keyFor:function(t){if(rr(t))return gn(Hn,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){$n=!0},useSimple:function(){$n=!1}}),P(P.S+P.F*!Xn,"Object",{create:function(t,n){return void 0===n?Pn(t):or(Pn(t),n)},defineProperty:er,defineProperties:or,getOwnPropertyDescriptor:cr,getOwnPropertyNames:ur,getOwnPropertySymbols:ar}),Un&&P(P.S+P.F*(!Xn||u(function(){var t=Kn();return"[null]"!=Bn([t])||"{}"!=Bn({a:t})||"{}"!=Bn(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!rr(t)){for(var n,r,e=[t],o=1;arguments.length>o;)e.push(arguments[o++]);return"function"==typeof(n=e[1])&&(r=n),!r&&En(n)||(n=function(t,n){if(r&&(n=r.call(this,t,n)),!rr(n))return n}),e[1]=n,Bn.apply(Un,e)}}}),Kn.prototype[Yn]||m(Kn.prototype,Yn,Kn.prototype.valueOf),It(Kn,"Symbol"),It(Math,"Math",!0),It(r.JSON,"JSON",!0);t(function(t){!function(n){function r(t,n,r,e){var o=n&&n.prototype instanceof i?n:i,c=Object.create(o.prototype),u=new y(e||[]);return c._invoke=s(t,r,u),c}function e(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function i(){}function c(){}function u(){}function a(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function f(t){function r(n,i,c,u){var a=e(t[n],t,i);if("throw"!==a.type){var f=a.arg,s=f.value;return s&&"object"===(void 0===s?"undefined":o(s))&&w.call(s,"__await")?Promise.resolve(s.__await).then(function(t){r("next",t,c,u)},function(t){r("throw",t,c,u)}):Promise.resolve(s).then(function(t){f.value=t,c(f)},u)}u(a.arg)}"object"===o(n.process)&&n.process.domain&&(r=n.process.domain.bind(r));var i;this._invoke=function(t,n){function e(){return new Promise(function(e,o){r(t,n,e,o)})}return i=i?i.then(e,e):e()}}function s(t,n,r){var o=j;return function(i,c){if(o===P)throw new Error("Generator is already running");if(o===L){if("throw"===i)throw c;return d()}for(r.method=i,r.arg=c;;){var u=r.delegate;if(u){var a=l(u,r);if(a){if(a===F)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===j)throw o=L,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=P;var f=e(t,n,r);if("normal"===f.type){if(o=r.done?L:x,f.arg===F)continue;return{value:f.arg,done:r.done}}"throw"===f.type&&(o=L,r.method="throw",r.arg=f.arg)}}}function l(t,n){var r=t.iterator[n.method];if(r===m){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=m,l(t,n),"throw"===n.method))return F;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return F}var o=e(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,F;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=m),n.delegate=null,F):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,F)}function h(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function p(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function y(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function v(t){if(t){var n=t[_];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,e=function n(){for(;++r<t.length;)if(w.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=m,n.done=!0,n};return e.next=e}}return{next:d}}function d(){return{value:m,done:!0}}var m,g=Object.prototype,w=g.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",E=b.asyncIterator||"@@asyncIterator",S=b.toStringTag||"@@toStringTag",O=n.regeneratorRuntime;if(O)t.exports=O;else{(O=n.regeneratorRuntime=t.exports).wrap=r;var j="suspendedStart",x="suspendedYield",P="executing",L="completed",F={},T={};T[_]=function(){return this};var N=Object.getPrototypeOf,M=N&&N(N(v([])));M&&M!==g&&w.call(M,_)&&(T=M);var k=u.prototype=i.prototype=Object.create(T);c.prototype=k.constructor=u,u.constructor=c,u[S]=c.displayName="GeneratorFunction",O.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===c||"GeneratorFunction"===(n.displayName||n.name))},O.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,S in t||(t[S]="GeneratorFunction")),t.prototype=Object.create(k),t},O.awrap=function(t){return{__await:t}},a(f.prototype),f.prototype[E]=function(){return this},O.AsyncIterator=f,O.async=function(t,n,e,o){var i=new f(r(t,n,e,o));return O.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},a(k),k[S]="Generator",k[_]=function(){return this},k.toString=function(){return"[object Generator]"},O.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},O.values=v,y.prototype={constructor:y,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(p),!t)for(var n in this)"t"===n.charAt(0)&&w.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){function n(n,e){return i.type="throw",i.arg=t,r.next=n,e&&(r.method="next",r.arg=m),!!e}if(this.done)throw t;for(var r=this,e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=w.call(o,"catchLoc"),u=w.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&w.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var o=e;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o.finallyLoc,F):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),F},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),p(r),F}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var o=e.arg;p(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:v(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=m),F}}}}("object"===o(n)?n:"object"===("undefined"==typeof window?"undefined":o(window))?window:"object"===("undefined"==typeof self?"undefined":o(self))?self:n)});if("function"!=typeof window.CustomEvent){var lr=function(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),r};lr.prototype=window.Event.prototype,window.CustomEvent=lr}}();

!function(){"use strict";function e(e){return 9792===e||9794===e}function t(e){return 128104===e||128105===e}function n(e){return 128118===e||128102===e||128103===e}function r(e){return e>=65024&&e<=65039||e>=917760&&e<=917999}function o(e){return e>=127995&&e<=127999}function i(e){return e>=127462&&e<=127487}function a(t){return t<9757||e(t)||r(t)||o(t)||i(t)}function u(e){for(var t=e.length,n=[],r=0;r<t;){var o=e.charCodeAt(r++)||0;if(o<55296||o>56319||r===t);else{var i=e.charCodeAt(r)||0;if(56320==(64512&i)){++r,n.push(65536+(1023&i)+((1023&o)<<10));continue}}n.push(o)}return n}function s(e){if(!e.length)return[];for(var t=[{point:e[0],suffix:0}],n=[t],a=1;a<e.length;++a){var u=e[a];if(i(t[t.length-1].point));else{if(o(u)||r(u)){t[t.length-1].suffix=u;continue}if(8205===u){var s=e[++a];s&&t.push({point:s,suffix:0});continue}}t=[{point:u,suffix:0}],n.push(t)}return n}function d(r,i){var d={diversity:!1,gender:{single:!1,double:!1,neutral:!1}},c=s(u(r)),l=i?[]:null;if(c.some(function(r,o){var i=r[0].point,u=0,s=!1;r.forEach(function(r){var o=r.point;if(e(o))d.gender.single=!0,d.gender.neutral=!0;else if(t(o))d.gender.single=!0,++u>=2&&(d.gender.double=!0);else if(n(o)&&u)s=!0;else{var i=k(o);i&&(d.gender.single|=i.single,d.gender.neutral|=i.neutral)}});var c=u?t(i)&&1===u&&!s:void 0;if(c&&(d.diversity=L),l&&(l[o]=c),(d.diversity||!L)&&d.gender.neutral)return!l&&d.gender.single&&d.gender.double;if(!1!==c&&!a(i)){var f=String.fromCodePoint(i);L&&!d.diversity&&C(f+"\ud83c\udffb")&&(d.diversity=!0),!d.gender.neutral&&C(f+"\u200d\u2640\ufe0f")&&(d.gender.neutral=!0,d.gender.single=!0)}}),!i)return d;var f=function(){var n=i.gender||"",r=void 0,o=void 0;return function(i,a,u){void 0===r||i!==r?(r=i,o=0):++o;var s=n?n[o%n.length]:"",d=a||0;if(t(d))return s?"m"===s?128104:128105:d;if(!d||e(d))return s?"m"===s?9794:9792:0;if(u){var c=k(d);if(c){if(!s&&c.neutral)return c.points.n;if(s&&c.single)return"m"===s?c.points.m:c.points.f}}return--o,d}}(),v=c.map(function(t,n){var r=[],a=l[n],u=t[0].point;if(void 0!==i.gender){var s=void 0===a;if(t.forEach(function(e){return e.point=f(r,e.point,s)}),void 0===a&&1===t.length&&!e(u)){var d=f(r);d&&C(String.fromCodePoint(u)+"\u200d\u2640\ufe0f")&&t.push({suffix:65039,point:d})}}return void 0!==i.diversity&&t.forEach(function(e,t){o(e.suffix)?e.suffix=i.diversity:0===t&&L&&!1!==a&&(a||C(String.fromCodePoint(u)+"\ud83c\udffb"))&&(e.suffix=i.diversity)}),t.forEach(function(e){e.point&&(r.length&&r.push(8205),r.push(e.point),e.suffix&&r.push(e.suffix))}),r}).reduce(function(e,t){return e.concat(t)},[]);return d.out=String.fromCodePoint.apply(String,E(v)),d}function c(e){for(var t=e.dataset,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];r.forEach(function(e){e in t&&delete t[e]})}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r={},o={};return e.forEach(function(e){var i=e[0];o[i]=e.slice(1);for(var a=i.substr(0,t),u=1;u<=a.length;++u){var s=a.substr(0,u),d=r[s];d||(d=r[s]=[]),d.length<n&&d.push(i)}}),function(e){var n=(e=e.toLowerCase()).substr(t),i=r[e.substr(0,t)]||[];return n&&(i=i.filter(function(e){return e.substr(t).startsWith(n)})),i=i.map(function(e){return{name:e,options:o[e]||[]}}),i.length?i:null}}function f(e,t){window.requestAnimationFrame(function(n){M(e,t)})}function v(e,t){O[e]=t,window.clearTimeout(B),B=window.setTimeout(function(e){var t=JSON.stringify(O);O={},window.fetch(A+"/select",{method:"POST",body:t})},5e3)}function p(e,t){var n=new FormData;return n.append("name",e),n.append("emoji",t),window.fetch(A+"/name",{method:"POST",mode:"cors",body:n})}function m(e){var t=F.get(e);if(t)return t;var n=document.createElement("button");return n.textContent=e,F.set(e,n),n}window.requestIdleCallback||(window.requestIdleCallback=function(e){var t=performance.now(),n=e.bind(null,{didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(performance.now()-t))}});return window.setTimeout(n,1)},window.cancelIdleCallback=function(e){return window.clearTimeout(e)});var h=Array.prototype.slice.call(buttons.querySelectorAll("button")),g=function(e){var t=(e?e.detail:typer.value).trim(),n=Boolean(t);document.body.classList.toggle("has-value",n),h.forEach(function(e){return e.disabled=!n})};typer.addEventListener("value",g),g(),function(e,t){var n=void 0,r=e.textContent,o=/\s*/,i=function(i){var a=[t.selectionStart,t.selectionEnd],u=a[0],s=a[1],d=0,c=t.value.length;if(t.selectionStart!==t.selectionEnd&&(d=t.selectionStart,c=t.selectionEnd),d+=o.exec(t.value.substr(d))[0].length,(c=d+t.value.substr(d,c-d).trim().length)<=d)return!1;t.focus(),t.selectionStart=d,t.selectionEnd=c;var l=!1;try{l=document.execCommand("copy")}catch(e){console.warn("could not copy",e),l=!1}var f=[u,s];if(t.selectionStart=f[0],t.selectionEnd=f[1],!l)return!0;console.info("copied",t.value.substr(d,c)),e.textContent=e.dataset.copied,window.clearTimeout(n),n=window.setTimeout(function(t){e.textContent=r},500)};t.addEventListener("keydown",function(n){"Enter"==n.key&&(e.click(),t.focus())}),e.addEventListener("click",function(t){i(),e.focus()})}(copy,typer);var w=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},y=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},b=function(){var e=document.createElement("canvas").getContext("2d");e.font="1px monospace";var t={},n=0;return function(r){var o=t[r];return void 0===o&&(t[r]=o=e.measureText(r).width,++n>4e3&&(t={},n=0)),o}}(),x=Boolean(/Mac|Android|iP(hone|od|ad)/),C=function(){if(x){var e=b("\ud83d\ude02");return function(t){return b(t)===e}}var t=context.measureText("\udbbf\udffd").width;return function(e){var n=b(e);return n!==t&&n<2*t}}(),S=function(){if(x){var e=b("\ud83d\ude02");return function(t){var n=s(u(t)),r=n.reduce(function(e,t){return e+=i(t[0].point)?1:0},0),o=n.length-Math.ceil(r/2),a=b(t)/e;return Math.floor(a)===a&&a<=o}}context.measureText("\udbbf\udffd").width;return function(e){for(var t=s(u(e)),n=0;n<t.length;++n){var r=t[n];if(i(r[0].point)){if(n===t.length-1||!i(r[n+1].point))return!1;var o=String.fromCodePoint.apply(String,E(r[n].point).concat([r[n+1].point]));if(!C(o))return!1;++n}else{var a=String.fromCodePoint.apply(String,E(r.map(function(e){return e.point})));if(!C(a))return!1}}return!0}}(),L=b("\ud83d\udc68\ud83c\udffb")===b("\ud83d\udc68"),k=function(){for(var e=[129334,127877,0,128131,128378,0,128112,129333,0,128103,128102,0,128117,128116,129491,128109,128108,0,128120,129332,0],t=new Map,n=0;n<e.length;n+=3)for(var r={points:{f:e[n],m:e[n+1],n:e[n+2]}},o=0;o<3;++o){var i=e[n+o];if(i){if(t.has(i))throw new Error("duplicate in gender list: "+i);t.set(i,r)}}return function(e){var n=t.get(e)||null;return n&&void 0===n.single&&(n.single=C(String.fromCodePoint(n.points.f))&&C(String.fromCodePoint(n.points.m)),n.neutral=n.points.n&&C(String.fromCodePoint(n.points.n))),n}}();!function(e){var t=function(e){return e<5e3&&32!=e},n=document.createElement("div");n.className="overflow-helper",e.parentNode.insertBefore(n,e);var r=document.createElement("div");r.className="underline",n.appendChild(r);var o=document.createElement("div");o.className="sizer",n.appendChild(o),"complete"!==document.readyState&&(r.classList.add("loading"),window.addEventListener("load",function(e){i(),r.classList.remove("loading")}));var i=function(t){if(void 0===e.dataset.from)return r.hidden=!0,!1;var n=+e.dataset.from,i=+e.dataset.to;o.textContent=e.value.substr(0,n);var a=n?o.getBoundingClientRect().width:15;o.textContent=e.value.substr(n,i-n);var u=o.getBoundingClientRect().width-15;u<0&&!document.getElementById("less")&&console.warn("invalid sizer width",u,"for text",o.textContent),r.hidden=u<=0,r.style.left=a+"px",r.style.width=u+"px",r.style.transform="translateX(-"+e.scrollLeft+"px)"},a=function(t,n){if(t>=n)return c(e,"from","to","prefix","word","focus"),r.hidden=!0,!1;var o=[t,n];return e.dataset.from=o[0],e.dataset.to=o[1],e.dataset.focus=e.value.substr(t,n-t),i(),!0},u=e.value.length,s={start:u,end:u,value:void 0},l=function(n){if(!1!==n&&e.selectionStart===s.start&&e.selectionEnd===s.end&&e.value===s.value)return!0;var o=[e.selectionStart,e.selectionEnd];if(s.start=o[0],s.end=o[1],s.value!==e.value&&(e.dispatchEvent(new CustomEvent("value",{detail:e.value})),s.value=e.value),s.start!==s.end)return c(e,"prefix","word"),a(s.start,s.end),r.classList.add("range"),e.classList.add("range"),!1;r.classList.remove("range"),e.classList.remove("range");var i=s.start,u=s.start,d=!e.value.substr(s.end).trim()||!t(e.value.charCodeAt(s.end));if(d){for(;u>0&&32===e.value.charCodeAt(u-1);--u);u<i&&(i=u)}for(;i>0&&t(e.value.charCodeAt(i-1));--i);for(;u<e.value.length&&t(e.value.charCodeAt(u));++u);i>=u&&d&&n||a(i,u)&&(e.dataset.focus=e.dataset.prefix=e.value.substr(i,u-i),c(e,"word"))},f=function(t,n){if(t.has("focus")&&s.start===s.end){var r=[s.start,s.end];e.selectionStart=r[0],e.selectionEnd=r[1]}if(!l(n)){var o={text:e.dataset.prefix||e.dataset.word||null,prefix:"prefix"in e.dataset,focus:e.dataset.focus};e.dispatchEvent(new CustomEvent("query",{detail:o}))}},v=void 0;!function(){var t=void 0,n=new Set,r=function(e){t||(v=void 0,n.clear(),t=window.requestAnimationFrame(function(e){t=null,f(n,v)})),e&&n.add(e.type)};"change keydown keypress focus click mousedown select input".split(/\s+/).forEach(function(t){return e.addEventListener(t,r)}),r(),e.addEventListener("mousemove",function(e){e.which&&r()})}(),e.addEventListener("blur",function(t){if(e.selectionStart!==s.start||e.selectionStart!==s.end){var n=[s.start,s.end];e.selectionStart=n[0],e.selectionEnd=n[1]}}),e.addEventListener("keydown",function(t){switch(t.key){case"Escape":v=!1;break;case" ":e.dataset.prefix&&e.selectionStart===+e.dataset.to&&e.dispatchEvent(new CustomEvent("request",{detail:e.dataset.prefix}))}}),function(){var t=void 0,n=function(e){t||(t=window.requestAnimationFrame(function(e){t=null,i()}))};window.addEventListener("resize",n),e.addEventListener("wheel",n,{passive:!0})}();var p=function(t){var n;if(void 0===e.dataset.from||void 0===e.dataset.to)return!1;var r=+e.dataset.from,o=+e.dataset.to,i=e.value.substr(r,o-r),u=[typer.selectionStart,typer.selectionEnd],d=u[0],c=u[1],l=t(i);if(null==l)return!1;typer.value=typer.value.substr(0,r)+l+typer.value.substr(o);var f=function(e){return e>o?e=e-(o-r)+l.length:e>r&&(e=r+l.length),e};typer.focus(),typer.dispatchEvent(new CustomEvent("change"));var p=(n=[f(d),f(c)],typer.selectionStart=n[0],typer.selectionEnd=n[1],n),m=y(p,2);return s.start=m[0],s.end=m[1],v=!0,a(r,r+l.length),!0};e.addEventListener("modifier",function(e){var t=w({},e.detail.type,e.detail.code);p(function(e){return d(e,t).out||""})}),e.addEventListener("emoji",function(t){var n=t.detail.choice;p(function(e){return n})&&(e.dataset.word=t.detail.word||e.dataset.prefix,c(e,"prefix"))})}(typer);var A="https://us-central1-emojityper.cloudfunctions.net",q=void 0;try{var N=JSON.parse(window.localStorage.popular);N.created>=+new Date-864e5&&(q=Promise.resolve(l(N.results)),console.debug("got indexed localStorage"))}catch(e){console.debug("couldn't parse localStorage popular",e)}if(!q){var P=new Promise(function(e,t){var n=new XMLHttpRequest;n.open("GET",A+"/popular"),n.onerror=t,n.responseType="json",n.onload=function(){return e(n.response)},n.send()}).then(function(e){return"string"==typeof e?JSON.parse(e):e});P.then(function(e){e.created=+new Date,window.localStorage.popular=JSON.stringify(e)});var T=P.then(function(e){return l(e.results)});q?T.then(function(){return q=T}):q=T}var j=function(){},R=void 0,M=function(e,t){function n(e){R===r&&j(e)}if(window.clearTimeout(R),e){var r=window.setTimeout(function(r){var o=A+"/query?query="+encodeURIComponent(e);t&&(o+="&prefix=true"),window.fetch(o).then(function(e){return e.json()}).then(function(e){n(e.results.map(function(e){return{name:e[0],options:e.slice(1)}}))})},2e3);R=r,q.then(function(r){var o=r(e);t||(o=o.filter(function(t){return t.name===e})),n(o)})}else j(null)},O={},B=void 0,D=/[^\w:\.,$%^\-']+/g,I=function(e){return e?e.replace(D,"").toLowerCase():null},F=new Map;chooser.addEventListener("click",function(e){var t=e.target;if("button"!==t.localName);else if(t.parentNode.dataset.modifier){var n="value"in t.dataset?+t.dataset.value||t.dataset.value:null,r={type:t.parentNode.dataset.modifier,code:n};typer.dispatchEvent(new CustomEvent("modifier",{detail:r}))}else{var o=t.parentNode.dataset.word,i={choice:t.textContent,word:o};typer.dispatchEvent(new CustomEvent("emoji",{detail:i})),v(o,i.choice)}}),typer.addEventListener("keydown",function(e){if("ArrowDown"===e.key){var t=chooser.querySelector("button");t&&t.focus()}}),chooser.addEventListener("keydown",function(e){switch(e.key){case"Escape":typer.focus()}if(e.key.startsWith("Arrow")&&document.activeElement&&chooser.contains(document.activeElement)){var t=Array.from(chooser.querySelectorAll("button")),n=t.indexOf(document.activeElement);if(-1!==n){var r=void 0;if("ArrowLeft"===e.key?r=-1:"ArrowRight"===e.key&&(r=1),r){var o=n+r;o>=0&&o<t.length&&t[o].focus()}else{if("ArrowUp"===e.key)r=-1;else{if("ArrowDown"!==e.key)return;r=1}for(var i=document.activeElement.getBoundingClientRect(),a={dist:1/0,button:null},u=void 0,s=n;(s+=r)>=0&&s<t.length;){var d=t[s],c=d.getBoundingClientRect();if(i.top!==c.top){if(void 0===u&&(u=c.top),c.top!==u)break;var l=Math.abs(c.left-i.left);if(l<a.dist){var f=[l,d];a.dist=f[0],a.button=f[1]}}}a.button?a.button.focus():void 0===u&&r<0&&typer.focus()}}}});var J=null,z=null;!function(e){j=e}(function(e){J=e,chooser.textContent="";var t=document.createElement("span");chooser.appendChild(t);var n=new Map;if(z.focus&&!z.prefix){var r=function(e){var t=document.createElement("div");t.className="options modifier";var n=document.createElement("div");n.className="buttons",n.dataset.modifier=e,t.appendChild(n);var r=document.createElement("h4");return r.textContent=e,t.appendChild(r),chooser.appendChild(t),n},o=function(e,t,n){var r=document.createElement("button");r.textContent=t,n&&(r.dataset.value=n),e.appendChild(r)},i=d(z.focus);if(i.gender.single||i.gender.double){var a=r("gender");i.gender.neutral&&o(a,"\u2014"),i.gender.single&&o(a,"\u2640","f"),i.gender.double&&o(a,"\u2640\u2642","fm"),i.gender.single&&o(a,"\u2642","m"),i.gender.double&&o(a,"\u2642\u2640","mf")}if(i.diversity){var u=r("diversity");o(u,"\u2014");for(var s=127995;s<=127999;++s)o(u,String.fromCodePoint(s),s)}}var c=document.createDocumentFragment(),l={};e&&e.forEach(function(e){var t=e.name,r=document.createElement("div");r.className="options";var o=document.createElement("div");o.className="buttons",o.dataset.word=t,r.appendChild(o);var i=document.createElement("h4");i.textContent=t,r.appendChild(i),c.appendChild(r),l[t]=o,e.pending=e.options.filter(function(e){var t=F.get(e);return!t||(n.has(e)||(o.appendChild(t),n.set(e,t)),!1)})}),F=n,chooser.appendChild(c),e&&function(){var n,r,o,i,a,u,s,d;return regeneratorRuntime.async(function(c){for(;;)switch(c.prev=c.next){case 0:n=null,r=0;case 2:if(!(o=e[r])){c.next=21;break}i=o.pending,a=0;case 5:if(!(u=i[a])){c.next=17;break}if(n&&!(n.timeRemaining()<=0)){c.next=13;break}return s=new Promise(function(e){return window.requestIdleCallback(function(t){return e(t)})}),c.next=10,regeneratorRuntime.awrap(s);case 10:if(n=c.sent,t.parentNode){c.next=13;break}return c.abrupt("return");case 13:!F.has(u)&&S(u)&&(d=l[o.name]).appendChild(m(u));case 14:++a,c.next=5;break;case 17:case 18:++r,c.next=2;break;case 21:case 22:case"end":return c.stop()}},null,this)}().catch(function(e){return console.warn("couldn't render emoji",e)})}),typer.addEventListener("query",function(e){f((z=e.detail).text,z.prefix)}),typer.addEventListener("request",function(e){var t=I(e.detail),n=null;if((J||[]).some(function(e){return e.name===t&&(n=e.options[0],!0)}),n){var r={choice:n,word:t};typer.dispatchEvent(new CustomEvent("emoji",{detail:r}))}}),function(e,t){var n=t.querySelector("form"),r=n.querySelector("input"),o=n.querySelector("button"),i="";e.addEventListener("query",function(e){var n=e.detail,o=null===n.text&&void 0!==n.focus;i=n.focus,t.hidden=!o,t.hidden&&(r.value="")});var a=function(e){o.disabled=!r.value};"input change".split(/\s+/).forEach(function(e){return r.addEventListener(e,a)}),n.addEventListener("submit",function(e){e.preventDefault(),n.classList.add("pending"),r.disabled=!0,o.disabled=!0;p(r.value,i).then(function(e){return o.classList.add("success"),!1}).catch(function(e){return o.classList.add("failure"),console.warn("failed to submit emoji",e),!0}).then(function(e){n.classList.remove("pending"),r.disabled=!1,r.value="",r.dispatchEvent(new CustomEvent("change"))}).then(function(e){return new Promise(function(e,t){return window.setTimeout(e,2e3)})}).then(function(e){o.className=""})})}(typer,advanced)}();

//# sourceMappingURL=support.min.js.map
